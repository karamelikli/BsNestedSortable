<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" contents="width=device-width, initial-scale=1.0">
    <title>bootstrap Nested Sortable</title>

    <link rel="shortcut icon" href="./favicon.ico" type="image/x-icon">
    <link rel="icon" href="./favicon.ico" type="image/x-icon">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8"
        crossorigin="anonymous"></script>


    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/all.min.css"
        integrity="sha512-q3eWabyZPc1XTCmF+8/LuE1ozpg5xxn7iO89yfSOd5/oKvyqLngoNGsx8jq92Y8eXJ/IRxQbEC+FGSYxtk2oiw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />



    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui-touch-punch/0.2.3/jquery.ui.touch-punch.min.js" integrity="sha512-0bEtK0USNd96MnO4XhH8jhv3nyRF0eK87pJke6pkYf3cM0uDIhNJy9ltuzqgypoIFXw3JSuiy04tVk4AjpZdZw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
      
    <link href="./css/BsNestedSortable.css" rel="stylesheet" />
    <script src="./js/BsNestedSortable.js"></script>
</head>

<body>
    <div class="container">
        <div class="row">
            <ul id="tree"></ul>
        </div>
    </div>


    <script>
       const myData = [ { myid: 1, myparent_id: 0, mytitle: 'Branch 1', mydesc: 'desc.', mydesc:'a.jpg'  },
            {
                myid: 2,
                myparent_id: 1,
                mytitle: 'Branchfff 2',
                mydesc: 'images/profile.jpg'
            },
        ];
        $(document).ready(function () {
            $("#tree").BsNestedSortable({
	     data: myData,
	      options: {
		      dataKeys: {
	                       id: 'myid',
	                       parent: 'myparent_id',
	                       title: 'mytitle',
	                       description: 'mydesc',
	                       image: 'myimage'
	                     },
				    }
     });
        });
    </script>
    <p>catObj <textarea id="catObj" cols="130"></textarea> </p><input type="text" id="catObj2" style="width: 110rem;">
    </div>

    <p>parentArr <input type="text" id="parentArr" style="width: 110rem;"></div>
    </p>
    <p>childrenArr <input type="text" id="childrenArr" style="width: 110rem;"></div>
    </p>
    <p>hierarchy <input type="text" id="hierarchy" style="width: 110rem;"></div>
    </p>
    <p>hierarchyMin <input type="text" id="minHierarchy" style="width: 110rem;"></div>
    </p>

    <p>allParentsArr <input type="text" id="allParentsArr" style="width: 110rem;"></div>
    </p>
    <p>allChildrenArr <input type="text" id="allChildrenArr" style="width: 110rem;"></div>
    </p>
    <div class="modal fade" id="proceeding-error" tabindex="-1" role="dialog" aria-labelledby="myEroorLabel">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content bg-danger text-white">
                <div class="modal-body text-center">
                    <h3 class="text-white mb-15" id="myEroorLabel"><i class="fa fa-exclamation-triangle"></i> ERROR!
                    </h3>
                    <span>proceeding Failed.</span>
                    <p id="errorDesc"></p>
                    <p></p>
                    <button type="button" class="btn btn-light close" data-dismiss="modal"
                        data-bs-dismiss="modal">Ok</button>
                </div>
            </div>
        </div>
    </div>


    <div class="modal hide fade" id="proceeding-modal">
        <div class="modal-dialog modal-dialog-centered " role="document">
            <div class="modal-content">
                <div class="modal-body text-center">
                    <div class="loader">
                        <div class="fa-3x">
                            <i class="fas fa-circle-notch fa-spin" style="color:blue ;"></i>

                        </div>
                    </div>
                    <div class="loader-txt" id="proceedingLabel">
                        <p>Please wait while the server is proceeding.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myModalLabel">Custom sized Modal</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><i
                            class="bi bi-x-lg"></i></button>
                </div>
                <div class="modal-body">
                    <div id="test"></div>
                    <input type="hidden" id="parentOfThis" />
                    <input type="hidden" id="IsAddItem" />
                    <div class="form-group">

                        <input type="text" class="form-control validate[required,minSize[2],maxSize[20]]" id="CatName"
                            placeholder="Item name" data-prompt-position="topLeft">
                    </div>
                    <div class="form-group">
                        <textarea class="summernote" name="CatDesc" id="CatDescId"
                            style="min-width: 100%;height: 10rem;" placeholder="Item description"></textarea>
                    </div>
                    <div class="form-group">
                        <div class="input-group">
                            <div class="custom-file">
                                <input type="text" class="form-control" id="image" placeholder="Item image"
                                    data-prompt-position="topLeft">

                            </div>

                        </div>
                    </div>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn btn-primary submit" data-dismiss="modal">OK</button>
                    <button type="button" class="btn btn-orange close" data-dismiss="modal">Cancel</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Modal HTML -->
    <div id="myModalDelete" class="modal fade" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Confirmation</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <input type="hidden" id="IdOfDelete" />
                    <div class="text-center fs-1"><i class="bi bi-x-octagon" style="color:red"></i></div>
                    <p>Do you want to delete This Branch?</p>
                    <p class="text-secondary"><small>If you don't save, your changes will be lost.</small></p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary close" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary Delete">Delete</button>
                </div>
            </div>
        </div>
    </div>
    <div id="myModalDeleteAlert" class="modal fade" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Attention</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <input type="hidden" id="IdOfDelete" />
                    <div class="text-center fs-1"><i class="bi bi-exclamation-triangle"
                            style="color: red;background-color: yellow;"></i></div>
                    <p>This branch has childeren!</p>
                    <p class="text-secondary"><small>You have to delete this branch' childeren first.</small></p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary close" data-bs-dismiss="modal">OK</button>

                </div>
            </div>
        </div>
    </div>

</body>

</html>